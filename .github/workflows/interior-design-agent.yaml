name: Interior Design Agent Workflow

on:
  push:
    paths:
      - 'src/app/agents/interiorDesignAgent_initializer.py'
      - 'src/prompts/InteriorDesignAgentPrompt.txt'
      - 'src/app/tools/imageCreationTool.py'
  pull_request:
    paths:
      - 'src/app/agents/interiorDesignAgent_initializer.py'
      - 'src/prompts/InteriorDesignAgentPrompt.txt'
      - 'src/app/tools/imageCreationTool.py'

jobs:
  run-interior-design-agent:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Set up Python 3.11
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: Install Azure AI Projects package
        run: |
          python -m pip install --upgrade pip
          python -m pip install azure-ai-projects

      - name: Run Interior Design Agent Initializer
        env:
          # Add any Azure-related secrets as environment variables here if needed.
          # AZURE_CLIENT_ID: ${{ secrets.AZURE_CLIENT_ID }}
          # AZURE_TENANT_ID: ${{ secrets.AZURE_TENANT_ID }}
          # AZURE_CLIENT_SECRET: ${{ secrets.AZURE_CLIENT_SECRET }}
        run: |
          python src/app/agents/interiorDesignAgent_initializer.py